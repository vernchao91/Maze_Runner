(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,i)=>{var s=i(111);t.exports=function(t){if(!s(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,i)=>{var s=i(5112),r=i(30),n=i(3070),a=s("unscopables"),o=Array.prototype;null==o[a]&&n.f(o,a,{configurable:!0,value:r(null)}),t.exports=function(t){o[a][t]=!0}},9670:(t,e,i)=>{var s=i(111);t.exports=function(t){if(!s(t))throw TypeError(String(t)+" is not an object");return t}},1285:(t,e,i)=>{"use strict";var s=i(7908),r=i(1400),n=i(7466);t.exports=function(t){for(var e=s(this),i=n(e.length),a=arguments.length,o=r(a>1?arguments[1]:void 0,i),h=a>2?arguments[2]:void 0,u=void 0===h?i:r(h,i);u>o;)e[o++]=t;return e}},8457:(t,e,i)=>{"use strict";var s=i(9974),r=i(7908),n=i(3411),a=i(7659),o=i(7466),h=i(6135),u=i(8554),c=i(1246);t.exports=function(t){var e,i,l,y,m,f,p=r(t),d="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,w=void 0!==v,x=c(p),k=0;if(w&&(v=s(v,g>2?arguments[2]:void 0,2)),null==x||d==Array&&a(x))for(i=new d(e=o(p.length));e>k;k++)f=w?v(p[k],k):p[k],h(i,k,f);else for(m=(y=u(p,x)).next,i=new d;!(l=m.call(y)).done;k++)f=w?n(y,v,[l.value,k],!0):l.value,h(i,k,f);return i.length=k,i}},1318:(t,e,i)=>{var s=i(5656),r=i(7466),n=i(1400),a=function(t){return function(e,i,a){var o,h=s(e),u=r(h.length),c=n(a,u);if(t&&i!=i){for(;u>c;)if((o=h[c++])!=o)return!0}else for(;u>c;c++)if((t||c in h)&&h[c]===i)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,e,i)=>{var s=i(9974),r=i(8361),n=i(7908),a=i(7466),o=i(5417),h=[].push,u=function(t){var e=1==t,i=2==t,u=3==t,c=4==t,l=6==t,y=7==t,m=5==t||l;return function(f,p,d,g){for(var v,w,x=n(f),k=r(x),S=s(p,d,3),b=a(k.length),I=0,O=g||o,M=e?O(f,b):i||y?O(f,0):void 0;b>I;I++)if((m||I in k)&&(w=S(v=k[I],I,x),t))if(e)M[I]=w;else if(w)switch(t){case 3:return!0;case 5:return v;case 6:return I;case 2:h.call(M,v)}else switch(t){case 4:return!1;case 7:h.call(M,v)}return l?-1:u||c?c:M}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1194:(t,e,i)=>{var s=i(7293),r=i(5112),n=i(7392),a=r("species");t.exports=function(t){return n>=51||!s((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},7475:(t,e,i)=>{var s=i(111),r=i(3157),n=i(5112)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)?s(e)&&null===(e=e[n])&&(e=void 0):e=void 0),void 0===e?Array:e}},5417:(t,e,i)=>{var s=i(7475);t.exports=function(t,e){return new(s(t))(0===e?0:e)}},3411:(t,e,i)=>{var s=i(9670),r=i(9212);t.exports=function(t,e,i,n){try{return n?e(s(i)[0],i[1]):e(i)}catch(e){r(t,"throw",e)}}},7072:(t,e,i)=>{var s=i(5112)("iterator"),r=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){r=!0}};a[s]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var n={};n[s]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,i)=>{var s=i(1694),r=i(4326),n=i(5112)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=s?r:function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},9920:(t,e,i)=>{var s=i(6656),r=i(3887),n=i(1236),a=i(3070);t.exports=function(t,e){for(var i=r(e),o=a.f,h=n.f,u=0;u<i.length;u++){var c=i[u];s(t,c)||o(t,c,h(e,c))}}},8544:(t,e,i)=>{var s=i(7293);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,i)=>{"use strict";var s=i(3383).IteratorPrototype,r=i(30),n=i(9114),a=i(8003),o=i(7497),h=function(){return this};t.exports=function(t,e,i){var u=e+" Iterator";return t.prototype=r(s,{next:n(1,i)}),a(t,u,!1,!0),o[u]=h,t}},8880:(t,e,i)=>{var s=i(9781),r=i(3070),n=i(9114);t.exports=s?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,i)=>{"use strict";var s=i(4948),r=i(3070),n=i(9114);t.exports=function(t,e,i){var a=s(e);a in t?r.f(t,a,n(0,i)):t[a]=i}},654:(t,e,i)=>{"use strict";var s=i(2109),r=i(4994),n=i(9518),a=i(7674),o=i(8003),h=i(8880),u=i(1320),c=i(5112),l=i(1913),y=i(7497),m=i(3383),f=m.IteratorPrototype,p=m.BUGGY_SAFARI_ITERATORS,d=c("iterator"),g="keys",v="values",w="entries",x=function(){return this};t.exports=function(t,e,i,c,m,k,S){r(i,e,c);var b,I,O,M=function(t){if(t===m&&A)return A;if(!p&&t in T)return T[t];switch(t){case g:case v:case w:return function(){return new i(this,t)}}return function(){return new i(this)}},C=e+" Iterator",P=!1,T=t.prototype,D=T[d]||T["@@iterator"]||m&&T[m],A=!p&&D||M(m),R="Array"==e&&T.entries||D;if(R&&(b=n(R.call(new t)),f!==Object.prototype&&b.next&&(l||n(b)===f||(a?a(b,f):"function"!=typeof b[d]&&h(b,d,x)),o(b,C,!0,!0),l&&(y[C]=x))),m==v&&D&&D.name!==v&&(P=!0,A=function(){return D.call(this)}),l&&!S||T[d]===A||h(T,d,A),y[e]=A,m)if(I={values:M(v),keys:k?A:M(g),entries:M(w)},S)for(O in I)(p||P||!(O in T))&&u(T,O,I[O]);else s({target:e,proto:!0,forced:p||P},I);return I}},7235:(t,e,i)=>{var s=i(857),r=i(6656),n=i(6061),a=i(3070).f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});r(e,t)||a(e,t,{value:n.f(t)})}},9781:(t,e,i)=>{var s=i(7293);t.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,i)=>{var s=i(7854),r=i(111),n=s.document,a=r(n)&&r(n.createElement);t.exports=function(t){return a?n.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:(t,e,i)=>{var s=i(5005);t.exports=s("navigator","userAgent")||""},7392:(t,e,i)=>{var s,r,n=i(7854),a=i(8113),o=n.process,h=n.Deno,u=o&&o.versions||h&&h.version,c=u&&u.v8;c?r=(s=c.split("."))[0]<4?1:s[0]+s[1]:a&&(!(s=a.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=a.match(/Chrome\/(\d+)/))&&(r=s[1]),t.exports=r&&+r},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,i)=>{var s=i(7854),r=i(1236).f,n=i(8880),a=i(1320),o=i(3505),h=i(9920),u=i(4705);t.exports=function(t,e){var i,c,l,y,m,f=t.target,p=t.global,d=t.stat;if(i=p?s:d?s[f]||o(f,{}):(s[f]||{}).prototype)for(c in e){if(y=e[c],l=t.noTargetGet?(m=r(i,c))&&m.value:i[c],!u(p?c:f+(d?".":"#")+c,t.forced)&&void 0!==l){if(typeof y==typeof l)continue;h(y,l)}(t.sham||l&&l.sham)&&n(y,"sham",!0),a(i,c,y,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,i)=>{var s=i(3099);t.exports=function(t,e,i){if(s(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,r){return t.call(e,i,s,r)}}return function(){return t.apply(e,arguments)}}},7065:(t,e,i)=>{"use strict";var s=i(3099),r=i(111),n=[].slice,a={},o=function(t,e,i){if(!(e in a)){for(var s=[],r=0;r<e;r++)s[r]="a["+r+"]";a[e]=Function("C,a","return new C("+s.join(",")+")")}return a[e](t,i)};t.exports=Function.bind||function(t){var e=s(this),i=n.call(arguments,1),a=function(){var s=i.concat(n.call(arguments));return this instanceof a?o(e,s.length,s):e.apply(t,s)};return r(e.prototype)&&(a.prototype=e.prototype),a}},5005:(t,e,i)=>{var s=i(7854),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(s[t]):s[t]&&s[t][e]}},1246:(t,e,i)=>{var s=i(648),r=i(7497),n=i(5112)("iterator");t.exports=function(t){if(null!=t)return t[n]||t["@@iterator"]||r[s(t)]}},8554:(t,e,i)=>{var s=i(9670),r=i(1246);t.exports=function(t,e){var i=arguments.length<2?r(t):e;if("function"!=typeof i)throw TypeError(String(t)+" is not iterable");return s(i.call(t))}},7854:(t,e,i)=>{var s=function(t){return t&&t.Math==Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},6656:(t,e,i)=>{var s=i(7908),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(s(t),e)}},3501:t=>{t.exports={}},490:(t,e,i)=>{var s=i(5005);t.exports=s("document","documentElement")},4664:(t,e,i)=>{var s=i(9781),r=i(7293),n=i(317);t.exports=!s&&!r((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var s=i(7293),r=i(4326),n="".split;t.exports=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?n.call(t,""):Object(t)}:Object},2788:(t,e,i)=>{var s=i(5465),r=Function.toString;"function"!=typeof s.inspectSource&&(s.inspectSource=function(t){return r.call(t)}),t.exports=s.inspectSource},9909:(t,e,i)=>{var s,r,n,a=i(8536),o=i(7854),h=i(111),u=i(8880),c=i(6656),l=i(5465),y=i(6200),m=i(3501),f="Object already initialized",p=o.WeakMap;if(a||l.state){var d=l.state||(l.state=new p),g=d.get,v=d.has,w=d.set;s=function(t,e){if(v.call(d,t))throw new TypeError(f);return e.facade=t,w.call(d,t,e),e},r=function(t){return g.call(d,t)||{}},n=function(t){return v.call(d,t)}}else{var x=y("state");m[x]=!0,s=function(t,e){if(c(t,x))throw new TypeError(f);return e.facade=t,u(t,x,e),e},r=function(t){return c(t,x)?t[x]:{}},n=function(t){return c(t,x)}}t.exports={set:s,get:r,has:n,enforce:function(t){return n(t)?r(t):s(t,{})},getterFor:function(t){return function(e){var i;if(!h(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},7659:(t,e,i)=>{var s=i(5112),r=i(7497),n=s("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[n]===t)}},3157:(t,e,i)=>{var s=i(4326);t.exports=Array.isArray||function(t){return"Array"==s(t)}},4705:(t,e,i)=>{var s=i(7293),r=/#|\.prototype\./,n=function(t,e){var i=o[a(t)];return i==u||i!=h&&("function"==typeof e?s(e):!!e)},a=n.normalize=function(t){return String(t).replace(r,".").toLowerCase()},o=n.data={},h=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},2190:(t,e,i)=>{var s=i(5005),r=i(3307);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return"function"==typeof e&&Object(t)instanceof e}},9212:(t,e,i)=>{var s=i(9670);t.exports=function(t,e,i){var r,n;s(t);try{if(void 0===(r=t.return)){if("throw"===e)throw i;return i}r=r.call(t)}catch(t){n=!0,r=t}if("throw"===e)throw i;if(n)throw r;return s(r),i}},3383:(t,e,i)=>{"use strict";var s,r,n,a=i(7293),o=i(9518),h=i(8880),u=i(6656),c=i(5112),l=i(1913),y=c("iterator"),m=!1;[].keys&&("next"in(n=[].keys())?(r=o(o(n)))!==Object.prototype&&(s=r):m=!0);var f=null==s||a((function(){var t={};return s[y].call(t)!==t}));f&&(s={}),l&&!f||u(s,y)||h(s,y,(function(){return this})),t.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:m}},7497:t=>{t.exports={}},133:(t,e,i)=>{var s=i(7392),r=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},8536:(t,e,i)=>{var s=i(7854),r=i(2788),n=s.WeakMap;t.exports="function"==typeof n&&/native code/.test(r(n))},30:(t,e,i)=>{var s,r=i(9670),n=i(6048),a=i(748),o=i(3501),h=i(490),u=i(317),c=i(6200)("IE_PROTO"),l=function(){},y=function(t){return"<script>"+t+"<\/script>"},m=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}var t,e;f="undefined"!=typeof document?document.domain&&s?m(s):((e=u("iframe")).style.display="none",h.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F):m(s);for(var i=a.length;i--;)delete f.prototype[a[i]];return f()};o[c]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(l.prototype=r(t),i=new l,l.prototype=null,i[c]=t):i=f(),void 0===e?i:n(i,e)}},6048:(t,e,i)=>{var s=i(9781),r=i(3070),n=i(9670),a=i(1956);t.exports=s?Object.defineProperties:function(t,e){n(t);for(var i,s=a(e),o=s.length,h=0;o>h;)r.f(t,i=s[h++],e[i]);return t}},3070:(t,e,i)=>{var s=i(9781),r=i(4664),n=i(9670),a=i(4948),o=Object.defineProperty;e.f=s?o:function(t,e,i){if(n(t),e=a(e),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var s=i(9781),r=i(5296),n=i(9114),a=i(5656),o=i(4948),h=i(6656),u=i(4664),c=Object.getOwnPropertyDescriptor;e.f=s?c:function(t,e){if(t=a(t),e=o(e),u)try{return c(t,e)}catch(t){}if(h(t,e))return n(!r.f.call(t,e),t[e])}},1156:(t,e,i)=>{var s=i(5656),r=i(8006).f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==n.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(s(t))}},8006:(t,e,i)=>{var s=i(6324),r=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,i)=>{var s=i(6656),r=i(7908),n=i(6200),a=i(8544),o=n("IE_PROTO"),h=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),s(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?h:null}},6324:(t,e,i)=>{var s=i(6656),r=i(5656),n=i(1318).indexOf,a=i(3501);t.exports=function(t,e){var i,o=r(t),h=0,u=[];for(i in o)!s(a,i)&&s(o,i)&&u.push(i);for(;e.length>h;)s(o,i=e[h++])&&(~n(u,i)||u.push(i));return u}},1956:(t,e,i)=>{var s=i(6324),r=i(748);t.exports=Object.keys||function(t){return s(t,r)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,r=s&&!i.call({1:2},1);e.f=r?function(t){var e=s(this,t);return!!e&&e.enumerable}:i},7674:(t,e,i)=>{var s=i(9670),r=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return s(i),r(n),e?t.call(i,n):i.__proto__=n,i}}():void 0)},288:(t,e,i)=>{"use strict";var s=i(1694),r=i(648);t.exports=s?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(t,e,i)=>{var s=i(111);t.exports=function(t,e){var i,r;if("string"===e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!s(r=i.call(t)))return r;if("string"!==e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},3887:(t,e,i)=>{var s=i(5005),r=i(8006),n=i(5181),a=i(9670);t.exports=s("Reflect","ownKeys")||function(t){var e=r.f(a(t)),i=n.f;return i?e.concat(i(t)):e}},857:(t,e,i)=>{var s=i(7854);t.exports=s},1320:(t,e,i)=>{var s=i(7854),r=i(8880),n=i(6656),a=i(3505),o=i(2788),h=i(9909),u=h.get,c=h.enforce,l=String(String).split("String");(t.exports=function(t,e,i,o){var h,u=!!o&&!!o.unsafe,y=!!o&&!!o.enumerable,m=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||n(i,"name")||r(i,"name",e),(h=c(i)).source||(h.source=l.join("string"==typeof e?e:""))),t!==s?(u?!m&&t[e]&&(y=!0):delete t[e],y?t[e]=i:r(t,e,i)):y?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||o(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,i)=>{var s=i(7854);t.exports=function(t,e){try{Object.defineProperty(s,t,{value:e,configurable:!0,writable:!0})}catch(i){s[t]=e}return e}},8003:(t,e,i)=>{var s=i(3070).f,r=i(6656),n=i(5112)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,n)&&s(t,n,{configurable:!0,value:e})}},6200:(t,e,i)=>{var s=i(2309),r=i(9711),n=s("keys");t.exports=function(t){return n[t]||(n[t]=r(t))}},5465:(t,e,i)=>{var s=i(7854),r=i(3505),n="__core-js_shared__",a=s[n]||r(n,{});t.exports=a},2309:(t,e,i)=>{var s=i(1913),r=i(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.2",mode:s?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},8710:(t,e,i)=>{var s=i(9958),r=i(1340),n=i(4488),a=function(t){return function(e,i){var a,o,h=r(n(e)),u=s(i),c=h.length;return u<0||u>=c?t?"":void 0:(a=h.charCodeAt(u))<55296||a>56319||u+1===c||(o=h.charCodeAt(u+1))<56320||o>57343?t?h.charAt(u):a:t?h.slice(u,u+2):o-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},1400:(t,e,i)=>{var s=i(9958),r=Math.max,n=Math.min;t.exports=function(t,e){var i=s(t);return i<0?r(i+e,0):n(i,e)}},5656:(t,e,i)=>{var s=i(8361),r=i(4488);t.exports=function(t){return s(r(t))}},9958:t=>{var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7466:(t,e,i)=>{var s=i(9958),r=Math.min;t.exports=function(t){return t>0?r(s(t),9007199254740991):0}},7908:(t,e,i)=>{var s=i(4488);t.exports=function(t){return Object(s(t))}},7593:(t,e,i)=>{var s=i(111),r=i(2190),n=i(2140),a=i(5112)("toPrimitive");t.exports=function(t,e){if(!s(t)||r(t))return t;var i,o=t[a];if(void 0!==o){if(void 0===e&&(e="default"),i=o.call(t,e),!s(i)||r(i))return i;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),n(t,e)}},4948:(t,e,i)=>{var s=i(7593),r=i(2190);t.exports=function(t){var e=s(t,"string");return r(e)?e:String(e)}},1694:(t,e,i)=>{var s={};s[i(5112)("toStringTag")]="z",t.exports="[object z]"===String(s)},1340:(t,e,i)=>{var s=i(2190);t.exports=function(t){if(s(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},9711:t=>{var e=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+i).toString(36)}},3307:(t,e,i)=>{var s=i(133);t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(t,e,i)=>{var s=i(5112);e.f=s},5112:(t,e,i)=>{var s=i(7854),r=i(2309),n=i(6656),a=i(9711),o=i(133),h=i(3307),u=r("wks"),c=s.Symbol,l=h?c:c&&c.withoutSetter||a;t.exports=function(t){return n(u,t)&&(o||"string"==typeof u[t])||(o&&n(c,t)?u[t]=c[t]:u[t]=l("Symbol."+t)),u[t]}},3290:(t,e,i)=>{var s=i(2109),r=i(1285),n=i(1223);s({target:"Array",proto:!0},{fill:r}),n("fill")},1038:(t,e,i)=>{var s=i(2109),r=i(8457);s({target:"Array",stat:!0,forced:!i(7072)((function(t){Array.from(t)}))},{from:r})},9753:(t,e,i)=>{i(2109)({target:"Array",stat:!0},{isArray:i(3157)})},6992:(t,e,i)=>{"use strict";var s=i(5656),r=i(1223),n=i(7497),a=i(9909),o=i(654),h="Array Iterator",u=a.set,c=a.getterFor(h);t.exports=o(Array,"Array",(function(t,e){u(this,{type:h,target:s(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,i=t.kind,s=t.index++;return!e||s>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:s,done:!1}:"values"==i?{value:e[s],done:!1}:{value:[s,e[s]],done:!1}}),"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},7042:(t,e,i)=>{"use strict";var s=i(2109),r=i(111),n=i(3157),a=i(1400),o=i(7466),h=i(5656),u=i(6135),c=i(5112),l=i(1194)("slice"),y=c("species"),m=[].slice,f=Math.max;s({target:"Array",proto:!0,forced:!l},{slice:function(t,e){var i,s,c,l=h(this),p=o(l.length),d=a(t,p),g=a(void 0===e?p:e,p);if(n(l)&&("function"!=typeof(i=l.constructor)||i!==Array&&!n(i.prototype)?r(i)&&null===(i=i[y])&&(i=void 0):i=void 0,i===Array||void 0===i))return m.call(l,d,g);for(s=new(void 0===i?Array:i)(f(g-d,0)),c=0;d<g;d++,c++)d in l&&u(s,c,l[d]);return s.length=c,s}})},4812:(t,e,i)=>{i(2109)({target:"Function",proto:!0},{bind:i(7065)})},8309:(t,e,i)=>{var s=i(9781),r=i(3070).f,n=Function.prototype,a=n.toString,o=/^\s*function ([^ (]*)/,h="name";s&&!(h in n)&&r(n,h,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},9070:(t,e,i)=>{var s=i(2109),r=i(9781);s({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:i(3070).f})},1539:(t,e,i)=>{var s=i(1694),r=i(1320),n=i(288);s||r(Object.prototype,"toString",n,{unsafe:!0})},8783:(t,e,i)=>{"use strict";var s=i(8710).charAt,r=i(1340),n=i(9909),a=i(654),o="String Iterator",h=n.set,u=n.getterFor(o);a(String,"String",(function(t){h(this,{type:o,string:r(t),index:0})}),(function(){var t,e=u(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=s(i,r),e.index+=t.length,{value:t,done:!1})}))},1817:(t,e,i)=>{"use strict";var s=i(2109),r=i(9781),n=i(7854),a=i(6656),o=i(111),h=i(3070).f,u=i(9920),c=n.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var l={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof y?new c(t):void 0===t?c():c(t);return""===t&&(l[e]=!0),e};u(y,c);var m=y.prototype=c.prototype;m.constructor=y;var f=m.toString,p="Symbol(test)"==String(c("test")),d=/^Symbol\((.*)\)[^)]+$/;h(m,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=f.call(t);if(a(l,t))return"";var i=p?e.slice(7,-1):e.replace(d,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:y})}},2165:(t,e,i)=>{i(7235)("iterator")},2526:(t,e,i)=>{"use strict";var s=i(2109),r=i(7854),n=i(5005),a=i(1913),o=i(9781),h=i(133),u=i(7293),c=i(6656),l=i(3157),y=i(111),m=i(2190),f=i(9670),p=i(7908),d=i(5656),g=i(4948),v=i(1340),w=i(9114),x=i(30),k=i(1956),S=i(8006),b=i(1156),I=i(5181),O=i(1236),M=i(3070),C=i(5296),P=i(8880),T=i(1320),D=i(2309),A=i(6200),R=i(3501),j=i(9711),L=i(5112),E=i(6061),W=i(7235),z=i(8003),G=i(9909),X=i(2092).forEach,F=A("hidden"),H="Symbol",N=L("toPrimitive"),B=G.set,V=G.getterFor(H),_=Object.prototype,U=r.Symbol,Y=n("JSON","stringify"),q=O.f,K=M.f,$=b.f,J=C.f,Q=D("symbols"),Z=D("op-symbols"),tt=D("string-to-symbol-registry"),et=D("symbol-to-string-registry"),it=D("wks"),st=r.QObject,rt=!st||!st.prototype||!st.prototype.findChild,nt=o&&u((function(){return 7!=x(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,i){var s=q(_,e);s&&delete _[e],K(t,e,i),s&&t!==_&&K(_,e,s)}:K,at=function(t,e){var i=Q[t]=x(U.prototype);return B(i,{type:H,tag:t,description:e}),o||(i.description=e),i},ot=function(t,e,i){t===_&&ot(Z,e,i),f(t);var s=g(e);return f(i),c(Q,s)?(i.enumerable?(c(t,F)&&t[F][s]&&(t[F][s]=!1),i=x(i,{enumerable:w(0,!1)})):(c(t,F)||K(t,F,w(1,{})),t[F][s]=!0),nt(t,s,i)):K(t,s,i)},ht=function(t,e){f(t);var i=d(e),s=k(i).concat(yt(i));return X(s,(function(e){o&&!ut.call(i,e)||ot(t,e,i[e])})),t},ut=function(t){var e=g(t),i=J.call(this,e);return!(this===_&&c(Q,e)&&!c(Z,e))&&(!(i||!c(this,e)||!c(Q,e)||c(this,F)&&this[F][e])||i)},ct=function(t,e){var i=d(t),s=g(e);if(i!==_||!c(Q,s)||c(Z,s)){var r=q(i,s);return!r||!c(Q,s)||c(i,F)&&i[F][s]||(r.enumerable=!0),r}},lt=function(t){var e=$(d(t)),i=[];return X(e,(function(t){c(Q,t)||c(R,t)||i.push(t)})),i},yt=function(t){var e=t===_,i=$(e?Z:d(t)),s=[];return X(i,(function(t){!c(Q,t)||e&&!c(_,t)||s.push(Q[t])})),s};h||(T((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=j(t),i=function(t){this===_&&i.call(Z,t),c(this,F)&&c(this[F],e)&&(this[F][e]=!1),nt(this,e,w(1,t))};return o&&rt&&nt(_,e,{configurable:!0,set:i}),at(e,t)}).prototype,"toString",(function(){return V(this).tag})),T(U,"withoutSetter",(function(t){return at(j(t),t)})),C.f=ut,M.f=ot,O.f=ct,S.f=b.f=lt,I.f=yt,E.f=function(t){return at(L(t),t)},o&&(K(U.prototype,"description",{configurable:!0,get:function(){return V(this).description}}),a||T(_,"propertyIsEnumerable",ut,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:U}),X(k(it),(function(t){W(t)})),s({target:H,stat:!0,forced:!h},{for:function(t){var e=v(t);if(c(tt,e))return tt[e];var i=U(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!m(t))throw TypeError(t+" is not a symbol");if(c(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),s({target:"Object",stat:!0,forced:!h,sham:!o},{create:function(t,e){return void 0===e?x(t):ht(x(t),e)},defineProperty:ot,defineProperties:ht,getOwnPropertyDescriptor:ct}),s({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:lt,getOwnPropertySymbols:yt}),s({target:"Object",stat:!0,forced:u((function(){I.f(1)}))},{getOwnPropertySymbols:function(t){return I.f(p(t))}}),Y&&s({target:"JSON",stat:!0,forced:!h||u((function(){var t=U();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,i){for(var s,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(s=e,(y(e)||void 0!==t)&&!m(t))return l(e)||(e=function(t,e){if("function"==typeof s&&(e=s.call(this,t,e)),!m(e))return e}),r[1]=e,Y.apply(null,r)}}),U.prototype[N]||P(U.prototype,N,U.prototype.valueOf),z(U,H),R[F]=!0},3948:(t,e,i)=>{var s=i(7854),r=i(8324),n=i(6992),a=i(8880),o=i(5112),h=o("iterator"),u=o("toStringTag"),c=n.values;for(var l in r){var y=s[l],m=y&&y.prototype;if(m){if(m[h]!==c)try{a(m,h,c)}catch(t){m[h]=c}if(m[u]||a(m,u,l),r[l])for(var f in n)if(m[f]!==n[f])try{a(m,f,n[f])}catch(t){m[f]=n[f]}}}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}i(4812),i(6992),i(1539),i(3948),i(9070),i(3290),i(7042),i(8309),i(1038),i(8783),i(2526),i(1817),i(2165),i(9753);const e=function(){function e(t,i,s){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.x=i,this.y=s,this.frameX=0,this.frameY=0,this.spriteHeight=60,this.spriteWidth=60,this.w=50,this.h=50,this.animationCount=0,this.speed=2,this.playerSprite=new Image,this.playerSprite.src="src/assets/full-hero.png",this.playerSprite.onload=function(){return r.update()},this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.keys=[],this.attacked=!1,this.moving=!1,this.keypressDetect={},this.invulnerable=!1,this.invulnerableNum=300,this.increasedLight=!1,this.increaseLightRadiusNum=1e3,this.lastInput="down",this.health=4}var i,s;return i=e,(s=[{key:"update",value:function(){this.drawPlayer(),this.animateFrame()}},{key:"keyDown",value:function(t){this.keys[t.keyCode]=!0}},{key:"keyUp",value:function(t){delete this.keys[t.keyCode],this.moving=!1}},{key:"drawPlayer",value:function(){this.invulnerableNum%4==0&&(this.ctx.beginPath(),this.ctx.drawImage(this.playerSprite,this.spriteWidth*this.frameX,this.spriteHeight*this.frameY,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight))}},{key:"animateFrame",value:function(){this.moving&&"down"===this.lastInput?(this.frameY=0,this.animationCount<5?this.animationCount++:this.frameX<5?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):this.moving&&"right"===this.lastInput?(this.frameY=1,this.animationCount<5?this.animationCount++:this.frameX<5?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):this.moving&&"left"===this.lastInput?(this.frameY=2,this.animationCount<5?this.animationCount++:this.frameX<5?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):this.moving&&"up"===this.lastInput&&(this.frameY=3,this.animationCount<5?this.animationCount++:this.frameX<5?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0))}}])&&t(i.prototype,s),e}();function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}const r=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.x=i,this.y=s,this.frameX=0,this.frameY=0,this.spriteHeight=67,this.spriteWidth=86.6166666666,this.animationCount=0,this.speed=1,this.wraithSprite=new Image,this.wraithSprite.src="src/assets/full-wraith.png",this.activated=!1,this.attacking=!1,this.direction="left"}var e,i;return e=t,(i=[{key:"update",value:function(){this.drawWraith(),this.animateFrame()}},{key:"drawWraith",value:function(){this.ctx.drawImage(this.wraithSprite,this.spriteWidth*this.frameX,this.spriteHeight*this.frameY,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight)}},{key:"animateFrame",value:function(){!1===this.activated?(this.frameY=0,this.spriteHeight=67,this.animationCount<11?this.animationCount++:this.frameX<11?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):!0===this.activated&&"left"===this.direction&&0==this.attacking?(this.frameY=1,this.spriteHeight=67,this.animationCount<11?this.animationCount++:this.frameX<11?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):!0===this.activated&&"right"===this.direction&&0==this.attacking?(this.frameY=2,this.spriteHeight=67,this.animationCount<11?this.animationCount++:this.frameX<11?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):!0===this.activated&&"right"===this.direction&&1==this.attacking?(this.frameY=3,this.spriteHeight=71,this.animationCount<11?this.animationCount++:this.frameX<11?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0)):!0===this.activated&&"left"===this.direction&&!0===this.attacking&&(this.frameY=4,this.spriteHeight=71,this.animationCount<11?this.animationCount++:this.frameX<11?(this.frameX++,this.animationCount=0):(this.frameX=0,this.animationCount=0))}}])&&s(e.prototype,i),t}();function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}const a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.spriteHeight=1e3,this.spriteWidth=100,this.height=this.spriteHeight/10,this.width=this.spriteWidth/10,this.frameSwitchX=350,this.frameBlueDoorX=217,this.frameRedDoorX=81,this.frameHeart=115,this.frameTorch=690,this.tileImg=new Image,this.tileImg.src="src/assets/tile-sheet.png",this.tile2Img=new Image,this.tile2Img.src="src/assets/tile-sheet2.png",this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.keys=[],this.keyGrab=!1,this.blueDoor="closed",this.redDoor="closed"}var e,i;return e=t,(i=[{key:"keyDown",value:function(t){this.keys[t.keyCode]=!0}},{key:"keyUp",value:function(t){delete this.keys[t.keyCode],this.moving=!1}},{key:"animateBlueSwitch",value:function(){this.frameSwitchX=423,this.animateBlueDoor()}},{key:"animateBlueDoor",value:function(){this.frameBlueDoorX=285,this.blueDoor="opened"}},{key:"animateRedDoor",value:function(){this.frameRedDoorX=149,this.redDoor="opened"}},{key:"drawTorch",value:function(t,e){this.ctx.drawImage(this.tileImg,this.frameTorch,5,30,50,t,e,40,50)}},{key:"drawKey",value:function(t,e){this.ctx.drawImage(this.tile2Img,0,0,120,90,t,e,40,40)}},{key:"drawSwitch",value:function(t,e){this.ctx.drawImage(this.tileImg,this.frameSwitchX,0,50,100,t,e,50,70)}},{key:"drawBlueDoor",value:function(t,e){this.ctx.drawImage(this.tileImg,this.frameBlueDoorX,0,50,100,t,e,52,80)}},{key:"drawRedDoor",value:function(t,e){this.ctx.drawImage(this.tileImg,this.frameRedDoorX,0,50,100,t,e,52,80)}},{key:"drawHeart",value:function(t,e,i){void 0===i&&this.ctx.drawImage(this.tile2Img,this.frameHeart,0,150,155,t,e,40,40)}}])&&n(e.prototype,i),t}();function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}const u=function(){function t(i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=i,this.fogctx=s,this.items=new a(i),this.player=new e(i,5,45),this.wraith=new r(i,980,41),this.keyItem={x:1110,y:40},this.blueDoor={x:51,y:194},this.redDoor={x:1103,y:415},this.blueSwitch={x:258,y:35},this.heart={x:860,y:625},this.torch={x:50,y:630},this.lightRadius=100,this.wallImg=new Image,this.wallImg.src="src/assets/tile-sheet.png",this.topWall=new Image,this.topWall.src="src/assets/tile-sheet2.png",this.innerWall=new Image,this.innerWall.src="src/assets/tile-sheet.png",this.objects=[],this.isColliding=!1}var i,s;return i=t,(s=[{key:"eventListeners",value:function(){window.addEventListener("keydown",this.player.keyDown.bind(this)),window.addEventListener("keyup",this.player.keyUp.bind(this)),window.addEventListener("keydown",this.items.keyDown.bind(this)),window.addEventListener("keyup",this.items.keyUp.bind(this))}},{key:"update",value:function(){this.eventListeners(),this.drawMaze(),this.drawBorder(),this.drawWireFrame(),this.updateItems(),this.addFogOfWar(this.fogctx),this.activate(this.player,this.wraith),this.wraithChase(),this.wraithAttacking(this.player,this.wraith),this.blueSwitchDistanceCheck(this.player,this.blueSwitch),this.keyDistanceCheck(this.player,this.keyItem),this.redDoorDistanceCheck(this.player,this.redDoor),this.heartDistanceCheck(this.player,this.heart),this.torchDistanceCheck(this.player,this.torch)}},{key:"updateItems",value:function(){this.items.drawRedDoor(this.redDoor.x,this.redDoor.y),this.items.drawBlueDoor(this.blueDoor.x,this.blueDoor.y),this.items.drawSwitch(this.blueSwitch.x,this.blueSwitch.y),this.items.drawHeart(this.heart.x,this.heart.y),this.items.drawTorch(this.torch.x,this.torch.y),this.items.drawKey(this.keyItem.x,this.keyItem.y)}},{key:"getDistance",value:function(t,e,i,s){var r=i-t,n=s-e;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}},{key:"addFogOfWar",value:function(t){t.fillStyle="black",t.fillRect(0,0,1200,700),t.globalCompositeOperation="destination-out";var e=t.createRadialGradient(this.player.x+30,this.player.y+30,this.lightRadius,this.player.x+30,this.player.y+30,this.lightRadius/2);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=e,t.beginPath(),t.arc(this.player.x+30,this.player.y+30,this.lightRadius,0,2*Math.PI),t.closePath(),t.fill(),t.globalCompositeOperation="source-over"}},{key:"colliding",value:function(t,e,i){var s,r=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){h=!0,n=t},f:function(){try{a||null==i.return||i.return()}finally{if(h)throw n}}}}(e);try{for(r.s();!(s=r.n()).done;){var n=s.value;t.x<n.x+n.w&&t.x+t.w>n.x&&t.y<n.y+n.h&&t.h+t.y>n.y?"down"===t.lastInput&&0===t.frameY?(t.y=n.y-t.h,t.moving=!1,delete t.keys[83],delete t.keys[65],delete t.keys[68],delete t.keys[87],delete t.keys[40],delete t.keys[37],delete t.keys[38],delete t.keys[39]):"up"===t.lastInput&&3===t.frameY?(t.y=n.y+n.h,t.moving=!1,delete t.keys[83],delete t.keys[65],delete t.keys[68],delete t.keys[87],delete t.keys[40],delete t.keys[37],delete t.keys[38],delete t.keys[39]):"right"===t.lastInput&&1===t.frameY?(t.x=n.x-t.w,t.moving=!1,delete t.keys[83],delete t.keys[65],delete t.keys[68],delete t.keys[87],delete t.keys[40],delete t.keys[37],delete t.keys[38],delete t.keys[39]):"left"===t.lastInput&&2===t.frameY&&(t.x=n.x+n.w,t.moving=!1,delete t.keys[83],delete t.keys[65],delete t.keys[68],delete t.keys[87],delete t.keys[40],delete t.keys[37],delete t.keys[38],delete t.keys[39]):(t.keys[83]||t.keys[40])&&t.y<655?(t.moving=!0,delete t.keys[65],delete t.keys[68],delete t.keys[87],delete t.keys[37],delete t.keys[38],delete t.keys[39],t.y+=t.speed/e.length,t.lastInput="down"):(t.keys[87]||t.keys[38])&&t.y>40?(t.moving=!0,delete t.keys[65],delete t.keys[68],delete t.keys[83],delete t.keys[40],delete t.keys[37],delete t.keys[39],t.y-=t.speed/e.length,t.lastInput="up"):(t.keys[65]||t.keys[37])&&t.x>41?(t.moving=!0,delete t.keys[87],delete t.keys[68],delete t.keys[83],delete t.keys[40],delete t.keys[38],delete t.keys[39],t.x-=t.speed/e.length,t.lastInput="left"):(t.keys[68]||t.keys[39])&&(t.moving=!0,delete t.keys[65],delete t.keys[87],delete t.keys[83],delete t.keys[40],delete t.keys[37],delete t.keys[38],t.x+=t.speed/e.length,t.lastInput="right")}}catch(t){r.e(t)}finally{r.f()}}},{key:"blueSwitchDistanceCheck",value:function(t,e){this.getDistance(t.x,t.y,e.x,e.y)<25&&this.items.keys[32]&&(this.items.animateBlueSwitch(),e.y=38)}},{key:"torchDistanceCheck",value:function(t,e){this.getDistance(t.x,t.y,e.x,e.y)<35&&(this.lightRadius=150,t.increasedLight=!0),t.increasedLight&&(t.increaseLightRadiusNum-=1),0===t.increaseLightRadiusNum&&t.increasedLight&&(this.lightRadius=100,t.increaseLightRadiusNum=1e3,t.increasedLight=!1)}},{key:"heartDistanceCheck",value:function(t,e){this.getDistance(t.x,t.y,e.x,e.y)<25&&(e.x=2e3,t.health+=1)}},{key:"keyDistanceCheck",value:function(t,e){this.getDistance(t.x,t.y,e.x,e.y)<40&&this.items.keys[32]&&(this.items.keyGrab=!0,e.x=t.x,e.y=t.y)}},{key:"redDoorDistanceCheck",value:function(t){this.getDistance(t.x,t.y,1103,415)<40&&!0===this.items.keyGrab&&(this.items.animateRedDoor(),this.keyItem={x:2e3,y:2e3})}},{key:"wraithAttacking",value:function(t,e){var i=this.getDistance(t.x,t.y,e.x+15,e.y);i<30&&!t.invulnerable?(t.health-=1,e.attacking=!0,t.attacked=!0,t.invulnerable=!0):i>30&&(e.attacking=!1),t.invulnerableNum<=0?(t.attacked=!1,t.invulnerable=!1,t.invulnerableNum=300):t.attacked&&(t.invulnerableNum-=1)}},{key:"activate",value:function(t,e){this.getDistance(t.x,t.y,e.x,e.y)<85&&(this.wraith.activated=!0)}},{key:"wraithChase",value:function(){this.wraith.activated&&(Math.floor(this.wraith.x)<Math.floor(this.player.x)&&Math.floor(this.wraith.y)<Math.floor(this.player.y)?(this.wraith.direction="right",this.wraith.x+=this.wraith.speed,this.wraith.y+=this.wraith.speed):Math.floor(this.wraith.x)>Math.floor(this.player.x)&&Math.floor(this.wraith.y)>Math.floor(this.player.y)?(this.wraith.direction="left",this.wraith.x-=this.wraith.speed,this.wraith.y-=this.wraith.speed):Math.floor(this.wraith.y)<Math.floor(this.player.y)&&Math.floor(this.wraith.x)>Math.floor(this.player.x)?(this.wraith.direction="left",this.wraith.y+=this.wraith.speed,this.wraith.x-=this.wraith.speed):Math.floor(this.wraith.y)>Math.floor(this.player.y)&&Math.floor(this.wraith.x)<Math.floor(this.player.x)?(this.wraith.direction="right",this.wraith.y-=this.wraith.speed,this.wraith.x+=this.wraith.speed):Math.floor(this.wraith.x)<Math.floor(this.player.x)?(this.wraith.direction="right",this.wraith.x+=this.wraith.speed):Math.floor(this.wraith.x)>Math.floor(this.player.x)?(this.wraith.direction="left",this.wraith.x-=this.wraith.speed):Math.floor(this.wraith.y)<Math.floor(this.player.y)?(this.wraith.direction="left",this.wraith.y+=this.wraith.speed):Math.floor(this.wraith.y)>Math.floor(this.player.y)&&(this.wraith.direction="right",this.wraith.y-=this.wraith.speed))}},{key:"drawWireFrame",value:function(){var t,e;this.ctx.beginPath(),t="closed"===this.items.blueDoor?{x:52,y:223,w:248,h:15}:{x:102,y:223,w:198,h:15},e="closed"===this.items.redDoor?{x:905,y:440,w:250,h:10}:{x:905,y:440,w:185,h:10},this.objects=[{x:0,y:110,w:40,h:550},{x:1155,y:40,w:40,h:550},{x:40,y:655,w:1155,h:0},{x:302,y:40,w:5,h:350},{x:50,y:395,w:145,h:15},{x:50,y:575,w:195,h:15},{x:375,y:395,w:110,h:15},{x:480,y:110,w:5,h:290},{x:480,y:110,w:320,h:15},{x:795,y:40,w:5,h:80},{x:590,y:355,w:5,h:300},{x:690,y:245,w:5,h:255},{x:690,y:245,w:370,h:15},{x:1055,y:40,w:5,h:295},{x:905,y:440,w:5,h:210},e,t],this.ctx.stroke()}},{key:"drawMaze",value:function(){for(var t=37;t<350;t+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,300,t,55,80);for(var e=100;e<251;e+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,e,227,55,80);for(var i=37;i<300;i+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,1050,i,55,80);for(var s=50;s<200;s+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,s,400,55,80);for(var r=50;r<201;r+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,r,580,55,80);for(var n=375;n<450;n+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,n,400,55,80);for(var a=113;a<400;a+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,475,a,55,80);for(var o=492;o<750;o+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,o,114,55,80);for(var h=28;h<100;h+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,790,h,55,80);for(var u=700;u<1050;u+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,u,250,55,80);for(var c=250;c<500;c+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,685,c,55,80);for(var l=358;l<650;l+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,585,l,55,80);for(var y=458;y<650;y+=50)this.ctx.drawImage(this.innerWall,775,0,50,75,900,y,55,80);for(var m=900;m<1100;m+=50)this.ctx.drawImage(this.wallImg,725,0,50,75,m,445,55,80)}},{key:"drawBorder",value:function(){for(var t=0;t<1200;t+=50)this.ctx.drawImage(this.wallImg,482,0,50,100,t,660,60,80);for(var e=550;e>=0;e-=50)this.ctx.drawImage(this.wallImg,582,0,55,80,1150,e,60,83);for(var i=0;i<1150;i+=50)this.ctx.drawImage(this.topWall,270,0,50,100,i,0,60,80);for(var s=110;s<650;s+=50)this.ctx.drawImage(this.wallImg,638,0,55,80,0,s,60,83)}}])&&h(i.prototype,s),t}();function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}const l=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.fogctx=i,this.title=new Image,this.title.src="src/assets/MazeRunner.png",this.pressStart=new Image,this.pressStart.src="src/assets/press-start.png",this.control=new Image,this.control.src="src/assets/controls.png",this.howToPlay=new Image,this.howToPlay.src="src/assets/how-to-play.png",this.startGame=new Image,this.startGame.src="src/assets/start-game.png",this.options=new Image,this.options.src="src/assets/options.png",this.pressEnter=new Image,this.pressEnter.src="src/assets/press-enter.png",this.pressP=new Image,this.pressP.src="src/assets/press-pause.png",this.pressWASD=new Image,this.pressWASD.src="src/assets/press-arrow-or-wasd.png",this.pressSpacebar=new Image,this.pressSpacebar.src="src/assets/press-spacebar.png",this.holdSpacebar=new Image,this.holdSpacebar.src="src/assets/hold-spacebar.png",this.pressM=new Image,this.pressM.src="src/assets/press-m.png",this.volume=new Image,this.volume.src="src/assets/volume.png",this.volumeMuted=new Image,this.volumeMuted.src="src/assets/volume-mute.png",this.volumeUnmuted=new Image,this.volumeUnmuted.src="src/assets/volume-unmute.png",this.resume=new Image,this.resume.src="src/assets/resume-game.png",this.restart=new Image,this.restart.src="src/assets/restart.png",this.mainMenu=new Image,this.mainMenu.src="src/assets/main-menu.png",this.gameOver=new Image,this.gameOver.src="src/assets/game-over.png",this.victory=new Image,this.victory.src="src/assets/victory.png",this.stayTuned=new Image,this.stayTuned.src="src/assets/stay-tuned.png",this.htwNavigate=new Image,this.htwNavigate.src="src/assets/htwnavigate.png",this.htwHealth=new Image,this.htwHealth.src="src/assets/htwhealth.png",this.htwAvoidWraith=new Image,this.htwAvoidWraith.src="src/assets/htwavoidwraith.png",this.htwOpenDoors=new Image,this.htwOpenDoors.src="src/assets/htwopendoors.png",this.htwWraith=new Image,this.htwWraith.src="src/assets/htwwraith.png",this.htwGameOver=new Image,this.htwGameOver.src="src/assets/htwgameover.png",this.gameMusic=new Audio,this.gameMusic.src="src/assets/the-maze-runner.mp3",this.gameMusic.loop=!0,this.gameMusic.volume=.2,this.titlePosition={x:300,y:-135},this.pressStartPosition={x:400,y:-150},this.howToPlayPosition={x:450,y:550},this.controlPosition={x:450,y:585},this.optionsPosition={x:450,y:620},this.startGamePosition={x:450,y:655},this.selector={x:450,y:590},this.pauseSelector={x:360,y:285},this.volumeSelectorPosition={x:600,y:210},this.victorySelector={x:450,y:285},this.gameOverSelector={x:450,y:285},this.titleSpeed=.85,this.titleAnimation=!1,this.titleStartReady=!1,this.controlsDisplay=!1,this.howToPlayDisplay=!0,this.optionsDisplay=!1,this.volumeSelecting=!1,this.resumeGameSelected=!0,this.restartGameSelected=!1,this.mainMenuSelected=!1,this.canvasHeight=700,this.canvasWidth=1200,this.pressStartTimer=200,this.pressStartBoolean=!1,this.globalAlpha=1,this.mouse={x:0,y:0},this.boundClient=s.getBoundingClientRect(),this.canvas1=s,this.keys=[],window.addEventListener("keydown",this.keyDown.bind(this)),window.addEventListener("keyup",this.keyUp.bind(this)),window.addEventListener("resize",this.resize.bind(this)),this.fogctx.canvas.addEventListener("mousedown",this.mouseDown.bind(this)),this.fogctx.canvas.addEventListener("mouseup",this.mouseUp.bind(this)),this.fogctx.canvas.addEventListener("mousemove",this.mouseMove.bind(this))}var e,i;return e=t,(i=[{key:"keyDown",value:function(t){this.keys[t.keyCode]=!0,(87===t.keyCode||38===t.keyCode)&&this.selector.y>610?this.selector.y-=35:(83===t.keyCode||40===t.keyCode)&&this.selector.y<675&&(this.selector.y+=35),(87===t.keyCode||38===t.keyCode)&&this.pauseSelector.y>245?this.pauseSelector.y-=40:(83===t.keyCode||40===t.keyCode)&&this.pauseSelector.y<330&&(this.pauseSelector.y+=40),(87===t.keyCode||38===t.keyCode)&&this.victorySelector.y>325?this.victorySelector.y-=40:(83===t.keyCode||40===t.keyCode)&&this.victorySelector.y<365&&(this.victorySelector.y+=40),(87===t.keyCode||38===t.keyCode)&&this.gameOverSelector.y>325?this.gameOverSelector.y-=40:(83===t.keyCode||40===t.keyCode)&&this.gameOverSelector.y<365&&(this.gameOverSelector.y+=40)}},{key:"keyUp",value:function(t){delete this.keys[t.keyCode]}},{key:"resize",value:function(){this.boundClient=this.canvas1.getBoundingClientRect()}},{key:"mouseDown",value:function(t){this.mouse.x>559&&this.mouse.x<761&&this.mouse.y>180&&this.mouse.y<240&&(this.volumeSelecting=!0,this.volumeSelectorPosition.x=this.mouse.x)}},{key:"mouseUp",value:function(t){this.volumeSelecting=!1}},{key:"mouseMove",value:function(t){this.mouse.x=t.clientX-this.boundClient.left-10,this.mouse.y=t.clientY-this.boundClient.top-10,this.volumeSelecting&&this.mouse.y>180&&this.mouse.y<240&&(this.mouse.x>559&&this.mouse.x<761?this.volumeSelectorPosition.x=this.mouse.x:this.mouse.x<559?this.volumeSelectorPosition.x=560:this.mouse.x>760&&(this.volumeSelectorPosition.x=760))}},{key:"update",value:function(){this.drawTitle(),this.drawPressStart(),this.moveTitle(),this.drawCopyRightAndVersion()}},{key:"updateSelector",value:function(){this.drawMainMenuSelectorTriangle(),this.drawTitle(),this.drawStartGame(),this.drawHowToPlay(),this.drawControl(),this.drawOptions()}},{key:"updateHowToPlay",value:function(){this.drawHowToPlayPage()}},{key:"updateControls",value:function(){this.drawControlsPage()}},{key:"updateOptions",value:function(t){this.volumeChecker(),this.drawVolumeAndSlider(),this.drawVolumeIcon(t)}},{key:"updatePauseScreen",value:function(t,e){this.drawPauseMenuSelectorTriangle(),this.volumeChecker(t),this.drawVolumeIcon(e),this.drawVolumeAndSlider(),this.drawResume(),this.drawRestart(0),this.drawMainMenu(0)}},{key:"updateGameOverScreen",value:function(){this.drawGameOver(),this.drawRestart(90),this.drawMainMenu(90),this.drawGameOverSelectorTriangle()}},{key:"updateVictoryScreen",value:function(){this.drawVictory(),this.drawStayTuned(),this.drawRestart(90),this.drawMainMenu(90),this.drawVictorySelectorTriangle()}},{key:"volumeChecker",value:function(t){(this.keys[68]||this.keys[39])&&this.volumeSelectorPosition.x<760&&!t&&this.optionsDisplay?this.volumeSelectorPosition.x+=1:(this.keys[65]||this.keys[37])&&this.volumeSelectorPosition.x>560&&!t&&this.optionsDisplay?this.volumeSelectorPosition.x-=1:(this.keys[68]||this.keys[39])&&this.volumeSelectorPosition.x<760&&t&&245===this.pauseSelector.y?this.volumeSelectorPosition.x+=1:(this.keys[65]||this.keys[37])&&this.volumeSelectorPosition.x>560&&t&&245===this.pauseSelector.y&&(this.volumeSelectorPosition.x-=1);var e=(200-(760-this.volumeSelectorPosition.x))/200;e<0?e=0:e>1&&(e=1),this.gameMusic.volume=e}},{key:"finishAnimation",value:function(){this.titlePosition.y=20,this.pressStartPosition.y=170,this.titleAnimation=!0}},{key:"moveTitle",value:function(){this.titlePosition.y<20?this.titlePosition.y+=this.titleSpeed:this.titlePosition.y>=20&&this.finishAnimation()}},{key:"drawHowToPlayPage",value:function(){this.ctx.drawImage(this.htwNavigate,0,0,1803,152,330,200,550,50),this.ctx.drawImage(this.htwHealth,0,0,1220,152,390,240,400,50),this.ctx.drawImage(this.htwAvoidWraith,0,0,2413,152,270,280,650,50),this.ctx.drawImage(this.htwOpenDoors,0,0,1295,152,390,320,400,50),this.ctx.drawImage(this.htwWraith,0,0,2388,152,270,360,650,50),this.ctx.drawImage(this.htwGameOver,0,0,1706,152,350,400,500,50)}},{key:"drawControlsPage",value:function(){this.ctx.drawImage(this.pressEnter,0,0,1593,152,350,200,500,50),this.ctx.drawImage(this.pressWASD,0,0,1862,152,350,240,500,50),this.ctx.drawImage(this.pressSpacebar,0,0,1806,152,310,280,600,50),this.ctx.drawImage(this.holdSpacebar,0,0,1905,152,310,320,600,50),this.ctx.drawImage(this.pressP,0,0,1342,152,410,360,400,50),this.ctx.drawImage(this.pressM,0,0,1650,162,360,400,500,50)}},{key:"drawVolumeIcon",value:function(t){t&&0!==this.gameMusic.volume?this.ctx.drawImage(this.volumeUnmuted,0,0,512,512,520,205,59,55):this.ctx.drawImage(this.volumeMuted,0,0,512,512,518,202,40,38)}},{key:"drawVolumeAndSlider",value:function(){this.ctx.drawImage(this.volume,0,0,390,152,355,200,170,50),this.ctx.fillStyle="rgba( 0, 0, 0,1)",this.ctx.fillRect(560,219,205.5,5),this.ctx.fillStyle="rgba( 255, 255, 255, 1)",this.ctx.fillRect(this.volumeSelectorPosition.x,210,7,25)}},{key:"drawResume",value:function(){this.ctx.drawImage(this.resume,0,0,674,152,360,240,250,55)}},{key:"drawRestart",value:function(t){this.ctx.drawImage(this.restart,0,0,436,152,360+t,280,170,55)}},{key:"drawMainMenu",value:function(t){this.ctx.drawImage(this.mainMenu,0,0,543,152,360+t,320,200,55)}},{key:"drawMainMenuSelectorTriangle",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.selector.x,this.selector.y-20),this.ctx.lineTo(this.selector.x-20,this.selector.y),this.ctx.lineTo(this.selector.x-20,this.selector.y-40),this.ctx.fillStyle="rgba(200, 200, 200, 1)",this.ctx.fill()}},{key:"drawPauseMenuSelectorTriangle",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.pauseSelector.x,this.pauseSelector.y-20),this.ctx.lineTo(this.pauseSelector.x-20,this.pauseSelector.y),this.ctx.lineTo(this.pauseSelector.x-20,this.pauseSelector.y-40),this.ctx.fillStyle="rgba(200, 200, 200, 1)",this.ctx.fill()}},{key:"drawGameOverSelectorTriangle",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.gameOverSelector.x,this.gameOverSelector.y-20),this.ctx.lineTo(this.gameOverSelector.x-20,this.gameOverSelector.y),this.ctx.lineTo(this.gameOverSelector.x-20,this.gameOverSelector.y-40),this.ctx.fillStyle="rgba(200, 200, 200, 1)",this.ctx.fill()}},{key:"drawVictorySelectorTriangle",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.victorySelector.x,this.victorySelector.y-20),this.ctx.lineTo(this.victorySelector.x-20,this.victorySelector.y),this.ctx.lineTo(this.victorySelector.x-20,this.victorySelector.y-40),this.ctx.fillStyle="rgba(200, 200, 200, 1)",this.ctx.fill()}},{key:"drawOptions",value:function(){this.ctx.drawImage(this.options,0,0,401,152,this.optionsPosition.x,this.optionsPosition.y,200,50)}},{key:"drawGameOver",value:function(){this.ctx.drawImage(this.gameOver,0,0,631,152,375,70,500,110)}},{key:"drawVictory",value:function(){this.ctx.drawImage(this.victory,0,0,631,152,420,70,500,110)}},{key:"drawStayTuned",value:function(){this.ctx.drawImage(this.stayTuned,0,0,2508,152,140,155,950,55)}},{key:"drawStartGame",value:function(){this.ctx.drawImage(this.startGame,0,0,681,152,this.startGamePosition.x,this.startGamePosition.y,300,50)}},{key:"drawHowToPlay",value:function(){this.ctx.drawImage(this.howToPlay,0,0,681,152,this.howToPlayPosition.x,this.howToPlayPosition.y,300,50)}},{key:"drawControl",value:function(){this.ctx.drawImage(this.control,0,0,485,152,this.controlPosition.x,this.controlPosition.y,200,50)}},{key:"drawCopyRightAndVersion",value:function(){this.ctx.font="20px serif",this.ctx.fillStyle="rgba(255, 255, 255, 1)",this.ctx.textAlign="center",this.ctx.fillText("Â© Version 1.0, Dec 31, 2021 ",600,650)}},{key:"drawPressStart",value:function(){this.ctx.save(),this.titlePosition.y>=20&&!this.pressStartBoolean&&(this.pressStartTimer-=1,this.ctx.globalAlpha=this.globalAlpha-=.0075,this.pressStartTimer<=0&&(this.pressStartBoolean=!0)),this.pressStartBoolean&&(this.ctx.globalAlpha=this.globalAlpha=1,this.pressStartTimer=200,this.pressStartBoolean=!1),this.ctx.drawImage(this.pressStart,0,0,1567,152,this.pressStartPosition.x,this.pressStartPosition.y,400,50),this.ctx.restore()}},{key:"drawTitle",value:function(){this.ctx.drawImage(this.title,0,0,494,114,this.titlePosition.x,this.titlePosition.y,600,150)}}])&&c(e.prototype,i),t}();function y(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}const m=function(){function t(e,i,s,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=i,this.fog=s,this.ctx=e,this.fogctx=s.getContext("2d"),this.main.width=1200,this.main.height=700,this.fog.width=1200,this.fog.height=700,this.fps=60,this.interval=1e3/this.fps,this.menu=new l(e,this.fogctx,i),this.maze1,this.maze1Win=!1,this.gameRunning=!1,this.gameOver=!1,this.pause=!1,this.music=!0,this.mainMenu=!0,this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.mouse={x:0,y:0},this.keys=[],this.boundClient=i.getBoundingClientRect(),window.addEventListener("keydown",this.keyDown.bind(this)),window.addEventListener("keyup",this.keyUp.bind(this)),window.addEventListener("resize",this.resize.bind(this)),this.fogctx.canvas.addEventListener("click",this.clickListener.bind(this)),this.fogctx.canvas.addEventListener("mousemove",this.mouseMove.bind(this))}var e,i;return e=t,(i=[{key:"mouseMove",value:function(t){this.mouse.x=t.clientX-this.boundClient.left-10,this.mouse.y=t.clientY-this.boundClient.top-10}},{key:"resize",value:function(){this.boundClient=this.main.getBoundingClientRect()}},{key:"keyDown",value:function(t){t.preventDefault(),this.keys[t.keyCode]=!0,"Enter"===t.key&&this.mainMenu&&!this.pause?this.menu.titleAnimation?this.menu.titleStartReady?590===this.menu.selector.y?(this.menu.optionsDisplay=!1,this.menu.controlsDisplay=!1,this.menu.howToPlayDisplay=!0):625===this.menu.selector.y?(this.menu.howToPlayDisplay=!1,this.menu.optionsDisplay=!1,this.menu.controlsDisplay=!0):660===this.menu.selector.y?(this.menu.controlsDisplay=!1,this.menu.howToPlayDisplay=!1,this.menu.optionsDisplay=!0):this.gameRunning||!this.menu.titleStartReady||695!==this.menu.selector.y||this.gameOver||this.maze1Win||(this.gameRunning=!0,this.play()):(this.menu.gameMusic.play(),this.menu.titleStartReady=!0):this.menu.finishAnimation():"Enter"===t.key&&this.pause?285===this.menu.pauseSelector.y?this.togglePause():325===this.menu.pauseSelector.y?this.restartMaze1():365===this.menu.pauseSelector.y&&this.goToMainMenu():"Enter"===t.key&&this.gameOver&&!this.mainMenu?325===this.menu.gameOverSelector.y?(this.gameRunning=!0,this.play()):365===this.menu.gameOverSelector.y&&(this.mainMenu=!0,this.goToMainMenu()):"Enter"===t.key&&this.maze1Win&&!this.mainMenu&&(325===this.menu.victorySelector.y?this.play():365===this.menu.victorySelector.y&&(this.mainMenu=!0,this.goToMainMenu()))}},{key:"keyUp",value:function(t){delete this.keys[t.keyCode]}},{key:"clickListener",value:function(t){!this.gameRunning||this.pause||this.gameOver||this.maze1Win?this.gameRunning&&this.pause&&!this.gameOver&&(325===this.menu.pauseSelector.y&&(this.mouse.y>240||this.mouse.y<130)?this.restartMaze1():365===this.menu.pauseSelector.y&&(this.mouse.y>240||this.mouse.y<130)?this.goToMainMenu():285===this.menu.pauseSelector.y&&(this.mouse.y>240||this.mouse.y<130)&&this.togglePause()):this.togglePause(),this.menu.titleAnimation||this.gameRunning||!this.mainMenu||this.gameOver?!this.menu.titleStartReady&&this.mainMenu?(this.menu.gameMusic.play(),this.menu.titleStartReady=!0):590===this.menu.selector.y&&(this.mouse.y>240||this.mouse.y<130)?(this.menu.optionsDisplay=!1,this.menu.controlsDisplay=!1,this.menu.howToPlayDisplay=!0):625===this.menu.selector.y&&(this.mouse.y>240||this.mouse.y<130)?(this.menu.howToPlayDisplay=!1,this.menu.optionsDisplay=!1,this.menu.controlsDisplay=!0):660===this.menu.selector.y&&(this.mouse.y>240||this.mouse.y<130)?(this.menu.controlsDisplay=!1,this.menu.howToPlayDisplay=!1,this.menu.optionsDisplay=!0):this.gameRunning||this.maze1Win||this.gameOver||!this.menu.titleStartReady||695!==this.menu.selector.y||!(this.mouse.y>240||this.mouse.y<130)&&this.menu.optionsDisplay||this.play():this.menu.finishAnimation(),this.gameOver&&!this.mainMenu&&(325===this.menu.gameOverSelector.y?(this.gameRunning=!0,this.play()):365===this.menu.gameOverSelector.y&&this.goToMainMenu()),this.maze1Win&&!this.mainMenu&&(325===this.menu.victorySelector.y?this.play():this.goToMainMenu())}},{key:"goToMainMenu",value:function(){this.maze1=new u(this.ctx,this.fogctx),this.mainMenu=!0,this.pause=!1,this.gameRunning=!1,this.maze1Win=!1,this.gameOver=!1,this.menu.howToPlayDisplay=!0,this.menu.selector.y=590,this.animateStartMenu()}},{key:"restartMaze1",value:function(){this.maze1=new u(this.ctx,this.fogctx),this.pause=!1}},{key:"pauseGameOrMusicListener",value:function(){this.keys[80]&&!this.gameOver&&this.gameRunning?(this.togglePause(),delete this.keys[80]):this.keys[77]&&(this.toggleMute(),delete this.keys[77])}},{key:"togglePause",value:function(){this.pause=!this.pause,this.menu.pauseSelector.y=285}},{key:"toggleMute",value:function(){this.music?(this.music=!this.music,this.menu.gameMusic.pause()):(this.music=!this.music,this.menu.gameMusic.play())}},{key:"play",value:function(){this.gameRunning=!0,this.mainMenu=!1,this.maze1Win=!1,this.gameOver=!1,this.pause=!1,this.lastTime=0,this.maze1=new u(this.ctx,this.fogctx),this.animateMazeOne()}},{key:"gameOverCheck",value:function(t){0===t&&(this.gameOver=!0,this.pause=!1,this.mainMenu=!1,this.maze1Win=!1)}},{key:"maze1EscapeCheck",value:function(t){t.x>1175&&t.y>590&&(this.maze1Win=!0,this.pause=!1,this.mainMenu=!1,this.gameOver=!1)}},{key:"mainMenuCheck",value:function(t,e){t&&(this.gameRunning=!1,this.pause=!1,cancelAnimationFrame(e),this.animateStartMenu())}},{key:"animateStartMenu",value:function(t){var e;this.lastTime,this.pauseGameOrMusicListener(),this.ctx.clearRect(0,0,this.main.width,this.main.height),this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.menu.titleStartReady?this.menu.titleStartReady&&this.menu.updateSelector():this.menu.update(),this.menu.titleStartReady&&this.menu.howToPlayDisplay?this.menu.updateHowToPlay():this.menu.optionsDisplay?this.menu.updateOptions(this.music):this.menu.controlsDisplay&&this.menu.updateControls(),e=requestAnimationFrame(this.animateStartMenu.bind(this)),this.lastTime=t,this.gameRunning&&cancelAnimationFrame(e)}},{key:"animateMazeOne",value:function(t){var e,i=(t-this.lastTime)/this.fps;this.pauseGameOrMusicListener(),this.gameOverCheck(this.maze1.player.health),this.maze1EscapeCheck(this.maze1.player),this.pause||this.gameOver||this.maze1Win?!this.pause||this.gameOver||this.maze1Win||(this.ctx.clearRect(0,0,this.main.width,this.main.height),this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.menu.updatePauseScreen(this.pause,this.music)):(this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.ctx.clearRect(0,0,this.main.width,this.main.height),this.maze1.update(i),this.maze1.player.update(),this.maze1.wraith.update(),this.maze1.colliding(this.maze1.player,this.maze1.objects,i)),e=requestAnimationFrame(this.animateMazeOne.bind(this)),this.lastTime=t,this.gameOver?(this.ctx.clearRect(0,0,this.main.width,this.main.height),this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.pause=!1,this.gameRunning=!1,cancelAnimationFrame(e),this.menu.gameOverSelector.y=325,this.animateGameOver()):this.maze1Win&&(this.ctx.clearRect(0,0,this.main.width,this.main.height),this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.pause=!1,this.gameRunning=!1,this.menu.victorySelector.y=325,cancelAnimationFrame(e),this.animateVictory()),this.mainMenuCheck(this.mainMenu,e)}},{key:"animateGameOver",value:function(){var t;this.pauseGameOrMusicListener(),this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.ctx.clearRect(0,0,this.main.width,this.main.height),this.menu.updateGameOverScreen(),t=requestAnimationFrame(this.animateGameOver.bind(this)),this.mainMenuCheck(this.mainMenu,t),this.gameRunning&&cancelAnimationFrame(t)}},{key:"animateVictory",value:function(){var t;this.fogctx.clearRect(0,0,this.main.width,this.main.height),this.ctx.clearRect(0,0,this.main.width,this.main.height),this.pauseGameOrMusicListener(),this.menu.updateVictoryScreen(),t=requestAnimationFrame(this.animateVictory.bind(this)),this.mainMenuCheck(this.mainMenu,t),this.gameRunning&&cancelAnimationFrame(t)}}])&&y(e.prototype,i),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("mainCanvas"),e=document.getElementById("fog"),i=t.getContext("2d"),s=(e.getContext("2d"),new m(i,t,e));s.gameRunning||s.animateStartMenu()}))})()})();
//# sourceMappingURL=main.js.map